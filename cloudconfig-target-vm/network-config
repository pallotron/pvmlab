#cloud-config
# This configuration uses Netplan syntax (version 2)
# and matches the desired interface using its MAC address,
# independent of the assigned kernel name (e.g., eth0, ens192, etc.).
network:
  version: 2
  ethernets:
    # 'static-interface' is a logical name for this configuration block.
    # The actual interface name on the machine will be determined by the 'match' criteria.
    static-interface:
      match:
        macaddress: "00:33:DE:AD:BE:EF"

      # Disable DHCP since we are setting a static configuration
      dhcp4: false
      
      # Assign the static IP address and subnet mask
      addresses:
        - 192.168.100.2/24

      # Define the default gateway (route for 0.0.0.0/0)
      routes:
        - to: 0.0.0.0/0
          via: 192.168.100.1

      # Define the DNS nameservers
      nameservers:
        addresses: [8.8.8.8]